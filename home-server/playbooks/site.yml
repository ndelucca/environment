---
# Main orchestration playbook for home server setup
# Usage: ansible-playbook playbooks/site.yml

- name: Configure home servers
  hosts: homeservers
  gather_facts: true

  roles:
    - role: cockpit
      tags: ['cockpit', 'monitoring']

    - role: adguard_home
      tags: ['adguard', 'dns']

    - role: filebrowser
      tags: ['filebrowser', 'files']

    - role: jellyfin
      tags: ['jellyfin', 'media']

    - role: firewall
      tags: ['firewall']
      when: firewall_enabled | default(true)

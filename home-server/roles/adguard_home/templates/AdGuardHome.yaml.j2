http:
  pprof:
    port: {{ adguard_pprof_port }}
    enabled: {{ adguard_pprof_enabled | lower }}
  address: {{ adguard_bind_host }}:{{ adguard_admin_port }}
  session_ttl: {{ adguard_session_ttl }}
users:
{% for user in adguard_users %}
  - name: {{ user.name }}
    password: {{ user.password }}
{% endfor %}
auth_attempts: {{ adguard_auth_attempts }}
block_auth_min: {{ adguard_block_auth_min }}
http_proxy: "{{ adguard_http_proxy }}"
language: "{{ adguard_language }}"
theme: {{ adguard_theme }}
dns:
  bind_hosts:
{% for host in adguard_dns_bind_hosts %}
    - {{ host }}
{% endfor %}
  port: {{ adguard_dns_port }}
  anonymize_client_ip: {{ adguard_anonymize_client_ip | lower }}
  ratelimit: {{ adguard_ratelimit }}
  ratelimit_subnet_len_ipv4: {{ adguard_ratelimit_subnet_len_ipv4 }}
  ratelimit_subnet_len_ipv6: {{ adguard_ratelimit_subnet_len_ipv6 }}
  ratelimit_whitelist: {{ adguard_ratelimit_whitelist | to_json }}
  refuse_any: {{ adguard_refuse_any | lower }}
  upstream_dns:
{% for dns in adguard_upstream_dns %}
    - {{ dns }}
{% endfor %}
  upstream_dns_file: "{{ adguard_upstream_dns_file }}"
  bootstrap_dns:
{% for dns in adguard_bootstrap_dns %}
    - {{ dns }}
{% endfor %}
  fallback_dns:
{% for dns in adguard_fallback_dns %}
    - {{ dns }}
{% endfor %}
  upstream_mode: {{ adguard_upstream_mode }}
  fastest_timeout: {{ adguard_fastest_timeout }}
  allowed_clients: {{ adguard_allowed_clients | to_json }}
  disallowed_clients: {{ adguard_disallowed_clients | to_json }}
  blocked_hosts:
{% for host in adguard_blocked_hosts %}
    - {{ host }}
{% endfor %}
  trusted_proxies:
{% for proxy in adguard_trusted_proxies %}
    - {{ proxy }}
{% endfor %}
  cache_enabled: {{ adguard_cache_enabled | lower }}
  cache_size: {{ adguard_cache_size }}
  cache_ttl_min: {{ adguard_cache_ttl_min }}
  cache_ttl_max: {{ adguard_cache_ttl_max }}
  cache_optimistic: {{ adguard_cache_optimistic | lower }}
  bogus_nxdomain: {{ adguard_bogus_nxdomain | to_json }}
  aaaa_disabled: {{ adguard_aaaa_disabled | lower }}
  enable_dnssec: {{ adguard_enable_dnssec | lower }}
  edns_client_subnet:
    custom_ip: "{{ adguard_edns_custom_ip }}"
    enabled: {{ adguard_edns_enabled | lower }}
    use_custom: {{ adguard_edns_use_custom | lower }}
  max_goroutines: {{ adguard_max_goroutines }}
  handle_ddr: {{ adguard_handle_ddr | lower }}
  ipset: {{ adguard_ipset | to_json }}
  ipset_file: "{{ adguard_ipset_file }}"
  bootstrap_prefer_ipv6: {{ adguard_bootstrap_prefer_ipv6 | lower }}
  upstream_timeout: {{ adguard_upstream_timeout }}
  private_networks: {{ adguard_private_networks | to_json }}
  use_private_ptr_resolvers: {{ adguard_use_private_ptr_resolvers | lower }}
  local_ptr_upstreams: {{ adguard_local_ptr_upstreams | to_json }}
  use_dns64: {{ adguard_use_dns64 | lower }}
  dns64_prefixes: {{ adguard_dns64_prefixes | to_json }}
  serve_http3: {{ adguard_serve_http3 | lower }}
  use_http3_upstreams: {{ adguard_use_http3_upstreams | lower }}
  serve_plain_dns: {{ adguard_serve_plain_dns | lower }}
  hostsfile_enabled: {{ adguard_hostsfile_enabled | lower }}
  pending_requests:
    enabled: {{ adguard_pending_requests_enabled | lower }}
tls:
  enabled: {{ adguard_tls_enabled | lower }}
  server_name: "{{ adguard_tls_server_name }}"
  force_https: {{ adguard_tls_force_https | lower }}
  port_https: {{ adguard_dns_over_https_port }}
  port_dns_over_tls: {{ adguard_dns_over_tls_port }}
  port_dns_over_quic: {{ adguard_dns_over_quic_port }}
  port_dnscrypt: {{ adguard_tls_port_dnscrypt }}
  dnscrypt_config_file: "{{ adguard_tls_dnscrypt_config_file }}"
  allow_unencrypted_doh: {{ adguard_tls_allow_unencrypted_doh | lower }}
  certificate_chain: "{{ adguard_tls_certificate_chain }}"
  private_key: "{{ adguard_tls_private_key }}"
  certificate_path: "{{ adguard_tls_certificate_path }}"
  private_key_path: "{{ adguard_tls_private_key_path }}"
  strict_sni_check: {{ adguard_tls_strict_sni_check | lower }}
querylog:
  dir_path: "{{ adguard_querylog_dir_path }}"
  ignored: {{ adguard_querylog_ignored | to_json }}
  interval: {{ adguard_querylog_interval }}
  size_memory: {{ adguard_querylog_size_memory }}
  enabled: {{ adguard_querylog_enabled | lower }}
  file_enabled: {{ adguard_querylog_file_enabled | lower }}
statistics:
  dir_path: "{{ adguard_stats_dir_path }}"
  ignored: {{ adguard_stats_ignored | to_json }}
  interval: {{ adguard_stats_interval }}
  enabled: {{ adguard_stats_enabled | lower }}
filters:
{% for filter in adguard_filters %}
  - enabled: {{ filter.enabled | lower }}
    url: {{ filter.url }}
    name: {{ filter.name }}
    id: {{ filter.id }}
{% endfor %}
whitelist_filters: {{ adguard_whitelist_filters | to_json }}
user_rules: {{ adguard_user_rules | to_json }}
dhcp:
  enabled: {{ adguard_dhcp_enabled | lower }}
  interface_name: {{ adguard_dhcp_interface_name }}
  local_domain_name: {{ adguard_dhcp_local_domain }}
  dhcpv4:
    gateway_ip: {{ adguard_dhcp_gateway_ip }}
    subnet_mask: {{ adguard_dhcp_subnet_mask }}
    range_start: {{ adguard_dhcp_range_start }}
    range_end: {{ adguard_dhcp_range_end }}
    lease_duration: {{ adguard_dhcp_lease_duration }}
    icmp_timeout_msec: {{ adguard_dhcp_icmp_timeout }}
    options: {{ adguard_dhcp_options | to_json }}
  dhcpv6:
    range_start: "{{ adguard_dhcpv6_range_start }}"
    lease_duration: {{ adguard_dhcpv6_lease_duration }}
    ra_slaac_only: {{ adguard_dhcpv6_ra_slaac_only | lower }}
    ra_allow_slaac: {{ adguard_dhcpv6_ra_allow_slaac | lower }}
filtering:
  blocking_ipv4: "{{ adguard_blocking_ipv4 }}"
  blocking_ipv6: "{{ adguard_blocking_ipv6 }}"
  blocked_services:
    schedule:
      time_zone: {{ adguard_blocked_services_timezone }}
    ids: {{ adguard_blocked_services_ids | to_json }}
  protection_disabled_until: {{ adguard_protection_disabled_until if adguard_protection_disabled_until else 'null' }}
  safe_search:
    enabled: {{ adguard_safe_search_enabled | lower }}
    bing: {{ adguard_safe_search_bing | lower }}
    duckduckgo: {{ adguard_safe_search_duckduckgo | lower }}
    ecosia: {{ adguard_safe_search_ecosia | lower }}
    google: {{ adguard_safe_search_google | lower }}
    pixabay: {{ adguard_safe_search_pixabay | lower }}
    yandex: {{ adguard_safe_search_yandex | lower }}
    youtube: {{ adguard_safe_search_youtube | lower }}
  blocking_mode: {{ adguard_blocking_mode }}
  parental_block_host: {{ adguard_parental_block_host }}
  safebrowsing_block_host: {{ adguard_safebrowsing_block_host }}
  rewrites:
{% for rewrite in adguard_dns_rewrites %}
    - domain: {{ rewrite.domain }}
      answer: {{ rewrite.answer }}
      enabled: {{ rewrite.enabled | lower }}
{% endfor %}
  safe_fs_patterns:
{% for pattern in adguard_safe_fs_patterns %}
    - {{ pattern }}
{% endfor %}
  safebrowsing_cache_size: {{ adguard_safebrowsing_cache_size }}
  safesearch_cache_size: {{ adguard_safesearch_cache_size }}
  parental_cache_size: {{ adguard_parental_cache_size }}
  cache_time: {{ adguard_filtering_cache_time }}
  filters_update_interval: {{ adguard_filters_update_interval }}
  blocked_response_ttl: {{ adguard_blocked_response_ttl }}
  filtering_enabled: {{ adguard_filtering_enabled | lower }}
  rewrites_enabled: {{ adguard_rewrites_enabled | lower }}
  parental_enabled: {{ adguard_parental_enabled | lower }}
  safebrowsing_enabled: {{ adguard_safebrowsing_enabled | lower }}
  protection_enabled: {{ adguard_protection_enabled | lower }}
clients:
  runtime_sources:
    whois: {{ adguard_clients_whois | lower }}
    arp: {{ adguard_clients_arp | lower }}
    rdns: {{ adguard_clients_rdns | lower }}
    dhcp: {{ adguard_clients_dhcp | lower }}
    hosts: {{ adguard_clients_hosts | lower }}
  persistent: {{ adguard_clients_persistent | to_json }}
log:
  enabled: {{ adguard_log_enabled | lower }}
  file: "{{ adguard_log_file }}"
  max_backups: {{ adguard_log_max_backups }}
  max_size: {{ adguard_log_max_size }}
  max_age: {{ adguard_log_max_age }}
  compress: {{ adguard_log_compress | lower }}
  local_time: {{ adguard_log_local_time | lower }}
  verbose: {{ adguard_log_verbose | lower }}
os:
  group: "{{ adguard_os_group }}"
  user: "{{ adguard_os_user }}"
  rlimit_nofile: {{ adguard_rlimit_nofile }}
schema_version: {{ adguard_schema_version }}

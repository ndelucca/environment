---
# Default variables for AdGuard Home role
# Only essential installation and service configuration
# Application config values are hardcoded in template

# Installation configuration
adguard_version: latest
adguard_download_url: https://static.adguard.com/adguardhome/release/AdGuardHome_linux_amd64.tar.gz
adguard_install_dir: /usr/local/bin
adguard_working_dir: /opt/AdGuardHome
adguard_user: ndelucca
adguard_group: ndelucca

# Service configuration
adguard_service_name: AdGuardHome
adguard_service_enabled: true
adguard_service_state: started

# Network ports (used by firewall role)
adguard_bind_host: 127.0.0.1
adguard_bind_port: 3000
adguard_admin_port: 8081
adguard_dns_port: 53
adguard_dns_over_tls_port: 853
adguard_dns_over_quic_port: 853
adguard_dns_over_https_port: 443

# Capability configuration
adguard_set_capabilities: true
adguard_capabilities:
  - CAP_NET_BIND_SERVICE
  - CAP_NET_RAW

# systemd-resolved configuration
adguard_disable_systemd_resolved_stub: true
adguard_resolved_dns_servers:
  - 127.0.0.1
adguard_resolved_fallback_dns:
  - 1.1.1.1
  - 8.8.8.8

# SELinux configuration
adguard_selinux_state: enforcing
adguard_manage_selinux: true

# Application configuration
adguard_configure_app: false  # Set to true in inventory to deploy config

# Users - provide in host_vars with hashed passwords
adguard_users: []

# DNS upstream servers - can override in host_vars
adguard_upstream_dns:
  - https://unfiltered.adguard-dns.com/dns-query
  - https://dns10.quad9.net/dns-query

# Bootstrap DNS - can override in host_vars
adguard_bootstrap_dns:
  - 1.1.1.1
  - 8.8.8.8
  - 9.9.9.10
  - 149.112.112.10
  - 2620:fe::10
  - 2620:fe::fe:10

# Fallback DNS servers
adguard_fallback_dns:
  - 8.8.8.8

# Blocked hosts - can override in host_vars
adguard_blocked_hosts:
  - version.bind
  - id.server
  - hostname.bind

# DNS cache configuration
adguard_cache_enabled: true

# Query log configuration
adguard_querylog_interval: 2160h  # 90 days
adguard_querylog_enabled: true
adguard_querylog_file_enabled: true

# Statistics configuration
adguard_stats_interval: 24h
adguard_stats_enabled: true

# Filters - provide complex structure in host_vars
adguard_filters:
  - enabled: true
    url: https://adguardteam.github.io/HostlistsRegistry/assets/filter_1.txt
    name: AdGuard DNS filter
    id: 1

# DHCP configuration - simple values in inventory
adguard_dhcp_enabled: false
adguard_dhcp_interface_name: eth0
adguard_dhcp_local_domain: lan
adguard_dhcp_gateway_ip: 192.168.1.1
adguard_dhcp_subnet_mask: 255.255.255.0
adguard_dhcp_range_start: 192.168.1.100
adguard_dhcp_range_end: 192.168.1.200
adguard_dhcp_lease_duration: 86400

# DHCP static leases - provide complex structure in host_vars
adguard_dhcp_static_leases: []

# DNS rewrites - provide complex structure in host_vars
adguard_dns_rewrites: []

# User rules - custom filtering rules (use @@||domain^ to whitelist)
adguard_user_rules: []

# Protection features
adguard_filtering_enabled: true
adguard_rewrites_enabled: true
adguard_protection_enabled: true

# Schema version
adguard_schema_version: 31

---
# Default variables for service maintenance role
# Fixes AdGuard DHCP not working after power outage / cold boot
#
# Two-pronged approach:
# 1. AdGuard drop-in: Wait for network before starting, auto-restart on failure
# 2. Post-boot timer: Restart AdGuard once after boot as safety net

# Enable the post-boot watchdog timer
service_maintenance_enabled: true

# How long after boot to restart services (gives router time to come up)
service_maintenance_boot_delay: 2min

# Services to restart after boot
service_maintenance_restart_services:
  - AdGuardHome

# AdGuard drop-in configuration
# Delay before AdGuard starts (seconds)
service_maintenance_adguard_start_delay: 10
# Delay before auto-restart on failure (seconds)
service_maintenance_adguard_restart_delay: 30

# Systemd unit configuration
service_maintenance_unit_name: service-watchdog
service_maintenance_unit_description: "Post-boot service watchdog"
